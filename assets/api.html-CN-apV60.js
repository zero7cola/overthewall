import{_ as n,o as s,c as a,e as t}from"./app-CrO7TU3o.js";const p={},e=t(`<h1 id="接口文档" tabindex="-1"><a class="header-anchor" href="#接口文档"><span>接口文档</span></a></h1><div class="custom-container danger"><p class="custom-container-title">注意！</p><p>接口文档返回值统一为json格式，并且一定包含code和msg的值，例如</p></div><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当code不为0时，代表发生了错误，错误信息会包含在msg中，例如</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;缺少参数&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>除了code和msg字段，还可能存在data字段，data字段用于传递接口的返回结果</p></blockquote><p>例如 <code>/api/user/get</code> 接口返回的结果为</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;logout_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;account_state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;is_friend&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;备注名&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="新增接口" tabindex="-1"><a class="header-anchor" href="#新增接口"><span>新增接口</span></a></h3><h4 id="发送短信-注册-忘记密码" tabindex="-1"><a class="header-anchor" href="#发送短信-注册-忘记密码"><span>发送短信(注册/忘记密码)</span></a></h4><p>/{web/h5}/service/send_sms</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">phone</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机号码</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;"><code>register</code> （注册）;<code>forget</code>（忘记密码）</td></tr></tbody></table><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="发送短信-重置密码" tabindex="-1"><a class="header-anchor" href="#发送短信-重置密码"><span>发送短信(重置密码)</span></a></h4><p>/{web/h5}/user/send_sms_pass</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">phone</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机号码</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;"><code>retrieve</code>(重置密码)</td></tr></tbody></table><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="忘记密码" tabindex="-1"><a class="header-anchor" href="#忘记密码"><span>忘记密码</span></a></h4><p>/{web/h5}/service/forget_pass</p><p>类型：<code>POST</code></p><p>新增参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">phone</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机号码</td></tr><tr><td style="text-align:center;">code</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机验证码</td></tr><tr><td style="text-align:center;">username</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">账号</td></tr><tr><td style="text-align:center;">newpass</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">新密码</td></tr></tbody></table><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="注册-非新增" tabindex="-1"><a class="header-anchor" href="#注册-非新增"><span>注册(非新增)</span></a></h4><p>/api/login/join</p><p>类型：<code>POST</code></p><p>新增参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">phone</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机号码</td></tr><tr><td style="text-align:center;">code</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">手机验证码</td></tr></tbody></table><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取临时会话玩家列表" tabindex="-1"><a class="header-anchor" href="#获取临时会话玩家列表"><span>获取临时会话玩家列表</span></a></h4><p>/api/friend/get_temp_list</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// name字段首字母，用来在通讯录中按照首字母排序</span>
            <span class="token property">&quot;9&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 以用户uid为键</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 好友备注或者昵称，如果没有好友备注则是好友昵称</span>
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span> <span class="token comment">// name字段首字母,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵星人&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token property">&quot;X&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
            <span class="token property">&quot;10&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token comment">//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;is_member&quot;</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
          
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除消息" tabindex="-1"><a class="header-anchor" href="#删除消息"><span>删除消息</span></a></h4><p>/api/message/delete</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li><li>mid 消息id，messsage表的主键</li><li>ty 1单删2全删</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>会推送 <code>message_delete</code> 事件</p></blockquote><h4 id="获取回复消息列表" tabindex="-1"><a class="header-anchor" href="#获取回复消息列表"><span>获取回复消息列表</span></a></h4><p>地址：/api/reply/get</p><p>类型：<code>GET</code></p><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span>
            ...
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="添加回复消息" tabindex="-1"><a class="header-anchor" href="#添加回复消息"><span>添加回复消息</span></a></h4><p>地址：/api/reply/add</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">type</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">1欢迎语2快捷回复3常见问题</td></tr><tr><td style="text-align:center;">title</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">type=3时，这里为问题</td></tr><tr><td style="text-align:center;">content</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">内容</td></tr><tr><td style="text-align:center;">weights</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">排序，越大越靠前</td></tr><tr><td style="text-align:center;">is_default</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">是否设置成默认</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新回复消息" tabindex="-1"><a class="header-anchor" href="#更新回复消息"><span>更新回复消息</span></a></h4><p>地址：/api/reply/update</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">rid</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">对应gei接口里的 <code>id</code> 字段</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">1欢迎语2快捷回复3常见问题</td></tr><tr><td style="text-align:center;">title</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">type=3时，这里为问题</td></tr><tr><td style="text-align:center;">content</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">内容</td></tr><tr><td style="text-align:center;">weights</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">排序，越大越靠前</td></tr><tr><td style="text-align:center;">is_default</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">是否设置成默认</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除回复消息" tabindex="-1"><a class="header-anchor" href="#删除回复消息"><span>删除回复消息</span></a></h4><p>地址：/api/reply/delete</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">rid</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;"></td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="添加下级用户-会员专有" tabindex="-1"><a class="header-anchor" href="#添加下级用户-会员专有"><span>添加下级用户(会员专有)</span></a></h4><p>地址：/api/user/open_user</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">username</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">登录名，格式为字母和数字</td></tr><tr><td style="text-align:center;">nickname</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">昵称，格式任意</td></tr><tr><td style="text-align:center;">avatar</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">头像url地址</td></tr><tr><td style="text-align:center;">password</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">密码</td></tr><tr><td style="text-align:center;">sign</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">个性签名</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span><span class="token number">13</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>data里的uid字段为系统分配的用户的uid字段</p></blockquote><h3 id="回复消息接口" tabindex="-1"><a class="header-anchor" href="#回复消息接口"><span>回复消息接口</span></a></h3><h4 id="获取回复消息列表-1" tabindex="-1"><a class="header-anchor" href="#获取回复消息列表-1"><span>获取回复消息列表</span></a></h4><p>地址：/api/reply/get</p><p>类型：<code>GET</code></p><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span> <span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//1欢迎语2快捷回复3常见问题</span>
                <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
                <span class="token property">&quot;is_show&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
                <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">,</span><span class="token comment">// 排序越大越靠前</span>
                <span class="token property">&quot;is_default&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 是否设置成默认</span>
            <span class="token punctuation">}</span>
            ...
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="添加回复消息-1" tabindex="-1"><a class="header-anchor" href="#添加回复消息-1"><span>添加回复消息</span></a></h4><p>地址：/api/reply/add</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">type</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">1欢迎语2快捷回复3常见问题</td></tr><tr><td style="text-align:center;">title</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">type=3时，这里为问题</td></tr><tr><td style="text-align:center;">content</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">内容</td></tr><tr><td style="text-align:center;">weights</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">排序，越大越靠前</td></tr><tr><td style="text-align:center;">is_default</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">是否设置成默认</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新回复消息-1" tabindex="-1"><a class="header-anchor" href="#更新回复消息-1"><span>更新回复消息</span></a></h4><p>地址：/api/reply/update</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">rid</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">对应gei接口里的 <code>id</code> 字段</td></tr><tr><td style="text-align:center;">type</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;">1欢迎语2快捷回复3常见问题</td></tr><tr><td style="text-align:center;">title</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">type=3时，这里为问题</td></tr><tr><td style="text-align:center;">content</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">内容</td></tr><tr><td style="text-align:center;">weights</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">排序，越大越靠前</td></tr><tr><td style="text-align:center;">is_default</td><td style="text-align:center;">int</td><td style="text-align:center;">否</td><td style="text-align:center;">是否设置成默认</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除回复消息-1" tabindex="-1"><a class="header-anchor" href="#删除回复消息-1"><span>删除回复消息</span></a></h4><p>地址：/api/reply/delete</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">rid</td><td style="text-align:center;">int</td><td style="text-align:center;">是</td><td style="text-align:center;"></td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户接口" tabindex="-1"><a class="header-anchor" href="#用户接口"><span>用户接口</span></a></h3><h4 id="添加下级用户-会员专有-1" tabindex="-1"><a class="header-anchor" href="#添加下级用户-会员专有-1"><span>添加下级用户(会员专有)</span></a></h4><p>地址：/api/user/open_user</p><p>类型：<code>POST</code></p><p>参数：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">属性</th><th style="text-align:center;">是否必须</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">username</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">登录名，格式为字母和数字</td></tr><tr><td style="text-align:center;">nickname</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">昵称，格式任意</td></tr><tr><td style="text-align:center;">avatar</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">头像url地址</td></tr><tr><td style="text-align:center;">password</td><td style="text-align:center;">string</td><td style="text-align:center;">是</td><td style="text-align:center;">密码</td></tr><tr><td style="text-align:center;">sign</td><td style="text-align:center;">string</td><td style="text-align:center;">否</td><td style="text-align:center;">个性签名</td></tr></tbody></table><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span><span class="token number">13</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>data里的uid字段为系统分配的用户的uid字段</p></blockquote><h4 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户"><span>添加用户</span></a></h4><p>地址：/api/user/add</p><p>类型：GET</p><p>参数：</p><ul><li>username 登录名，格式为字母和数字</li><li>nickname 昵称，格式任意</li><li>avatar 头像url地址</li><li>password 密码</li><li>sign 个性签名，可选参数</li></ul><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span><span class="token number">13</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>data里的uid字段为系统分配的用户的uid字段</p></blockquote><h4 id="获取单个用户信息" tabindex="-1"><a class="header-anchor" href="#获取单个用户信息"><span>获取单个用户信息</span></a></h4><p>/api/user/get</p><p>类型：GET</p><p>参数：</p><ul><li>uid 用户uid，可选参数，但是uid和username必须传递其中一个</li><li>username 用户登录名，可选参数，但是uid和username必须传递其中一个</li><li>password 密码，可选参数。当传递password参数时，username参数必须传递</li><li>login_uid 当前登录用户的uid，当传递这个参数时，返回值会增加is_friend字段，用来判断是否是好友。以及remark好友备注字段</li></ul><p>返回值：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nid&quot;</span><span class="token operator">:</span> <span class="token number">7269454</span><span class="token punctuation">,</span> <span class="token comment">// 数字ID</span>
        <span class="token property">&quot;is_member&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 是否会员1是0否</span>
        <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;logout_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;account_state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;is_friend&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;备注名&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中 <code>account_state</code> 为对应用户的账号状态，<code>normal</code>为正常，<code>disabled</code>为禁用状态。<code>disabled</code>状态的用户无法执行加好友、发送消息等操作。</p></blockquote><h4 id="获取多个用户信息" tabindex="-1"><a class="header-anchor" href="#获取多个用户信息"><span>获取多个用户信息</span></a></h4><p>/api/user/multiGet</p><p>参数：</p><ul><li>uid，用户uid数组</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;大懒猫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;logout_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;logout_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新用户信息" tabindex="-1"><a class="header-anchor" href="#更新用户信息"><span>更新用户信息</span></a></h4><p>api/user/update</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 账户uid</li><li>nickname 昵称字段</li><li>avatar 头像</li><li>sign 个性签名</li><li>account_state 用户账户状态，<code>normal</code>为正常，<code>disabled</code>为禁用状态</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="更新用户密码" tabindex="-1"><a class="header-anchor" href="#更新用户密码"><span>更新用户密码</span></a></h4><p>api/user/updatepassword</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 账户uid</li><li>password1 新密码</li><li>password2 新密码</li><li>password_old 旧密码</li><li>code 手机验证码</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="好友接口" tabindex="-1"><a class="header-anchor" href="#好友接口"><span>好友接口</span></a></h3><h4 id="发起好友申请" tabindex="-1"><a class="header-anchor" href="#发起好友申请"><span>发起好友申请</span></a></h4><p>/api/friend/apply</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>friend_uid 对方uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="同意好友申请" tabindex="-1"><a class="header-anchor" href="#同意好友申请"><span>同意好友申请</span></a></h4><p>/api/friend/agree</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>nid 对应notice表的主键</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="拒绝好友申请" tabindex="-1"><a class="header-anchor" href="#拒绝好友申请"><span>拒绝好友申请</span></a></h4><p>/api/friend/refuse</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>nid 对应notice表的主键</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="加好友" tabindex="-1"><a class="header-anchor" href="#加好友"><span>加好友</span></a></h4><p>/api/friend/add</p><p>说明：直接将2个账户互相加为好友，并执行推送通知给客户端完成客户端加好友渲染</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>friend_uid 对方uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="设置好友备注" tabindex="-1"><a class="header-anchor" href="#设置好友备注"><span>设置好友备注</span></a></h4><p>/api/friend/remark</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>friend_uid 好友uid</li><li>remark 备注名</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获取好友申请列表" tabindex="-1"><a class="header-anchor" href="#获取好友申请列表"><span>获取好友申请列表</span></a></h4><p>/api/friend/applylist</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;nid&quot;</span><span class="token operator">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token comment">// notcie表主键id</span>
            <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>  <span class="token comment">// 发起者uid</span>
            <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>   <span class="token comment">// 接收者uid，也就是login_uid</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add_friend&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 加好友类型</span>
            <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\\&quot;postscript\\&quot;:\\&quot;这里是加好友的附言\\&quot;}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 加好友的附言信息</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;not_operated&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否操作过，not_operated无操作，refuse拒绝，agree同意</span>
            <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559290158</span><span class="token punctuation">,</span> <span class="token comment">// 时间戳</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 发起者昵称</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span> <span class="token comment">// 发起者头像</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取好友列表-通讯录" tabindex="-1"><a class="header-anchor" href="#获取好友列表-通讯录"><span>获取好友列表(通讯录)</span></a></h4><p>/api/friend/getlist</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// name字段首字母，用来在通讯录中按照首字母排序</span>
            <span class="token property">&quot;9&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 以用户uid为键</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 好友备注或者昵称，如果没有好友备注则是好友昵称</span>
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span> <span class="token comment">// name字段首字母,</span>
                <span class="token string">&quot;is_member&quot;</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            &quot;<span class="token number">11</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵星人&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;is_member&quot;</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;X&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
            &quot;<span class="token number">10</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;is_member&quot;</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取临时会话玩家列表-1" tabindex="-1"><a class="header-anchor" href="#获取临时会话玩家列表-1"><span>获取临时会话玩家列表</span></a></h4><p>/api/friend/get_temp_list</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// name字段首字母，用来在通讯录中按照首字母排序</span>
            <span class="token property">&quot;9&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 以用户uid为键</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 好友备注或者昵称，如果没有好友备注则是好友昵称</span>
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span> <span class="token comment">// name字段首字母,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            &quot;<span class="token number">11</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵星人&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;X&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
            &quot;<span class="token number">10</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/10/10/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;is_member&quot;</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取未处理好友申请数" tabindex="-1"><a class="header-anchor" href="#获取未处理好友申请数"><span>获取未处理好友申请数</span></a></h4><p>/api/friend/applycount</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="获取好友申请详情" tabindex="-1"><a class="header-anchor" href="#获取好友申请详情"><span>获取好友申请详情</span></a></h4><p>/api/friend/applydetail</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>nid notice表主键</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;nid&quot;</span><span class="token operator">:</span> <span class="token number">101</span><span class="token punctuation">,</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>  <span class="token comment">// 申请者uid</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>     <span class="token comment">// login_uid</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;add_friend&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\\&quot;postscript\\&quot;:\\&quot;\\\\u6211\\\\u662fcat\\&quot;}&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 附言</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;agree&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559096934</span><span class="token punctuation">,</span>
        <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 申请者昵称</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 申请者账户名</span>
        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span> <span class="token comment">// 申请者头像</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除好友" tabindex="-1"><a class="header-anchor" href="#删除好友"><span>删除好友</span></a></h4><p>/api/friend/delete</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>friend_uid 好友uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="更新好友信息" tabindex="-1"><a class="header-anchor" href="#更新好友信息"><span>更新好友信息</span></a></h4><p>/api/friend/update</p><p>类型：POST</p><p>参数：</p><ul><li>state 登录者uid</li><li>last_read_time 上次读消息时间戳</li><li>unread_count 更新未读消息数字</li><li>top 是否置顶 0不置顶，1置顶</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="群组接口" tabindex="-1"><a class="header-anchor" href="#群组接口"><span>群组接口</span></a></h3><h4 id="创建群组" tabindex="-1"><a class="header-anchor" href="#创建群组"><span>创建群组</span></a></h4><p>/api/group/create</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>members 成员uid，数组类型，可选参数</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;gid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;51&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 群组id</span>
        <span class="token property">&quot;groupname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫)&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 群组名称</span>
        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9&quot;</span> <span class="token comment">// 群组头像</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除群组" tabindex="-1"><a class="header-anchor" href="#删除群组"><span>删除群组</span></a></h4><p>/api/group/delete</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="邀请人加入群" tabindex="-1"><a class="header-anchor" href="#邀请人加入群"><span>邀请人加入群</span></a></h4><p>/api/group/memberadd</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>members 成员uid，数组类型</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="加入群组" tabindex="-1"><a class="header-anchor" href="#加入群组"><span>加入群组</span></a></h4><p>/api/group/join</p><p>说明：主要给给二维码直接加群使用</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获得群成员" tabindex="-1"><a class="header-anchor" href="#获得群成员"><span>获得群成员</span></a></h4><p>/api/group/members</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>limit 一次获取多少条</li><li>index 从哪个主键开始查找，主键为group_member表的主键</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;9&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/9\\/9\\/145d037918a6a6.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">140</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;10&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/10\\/10\\/055cf77102c0a5.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">160</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/11\\/11\\/055cf7705898a8.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">142</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;13&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/13\\/13\\/055cf77d3e8d4a.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;新萌&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;新萌-备注&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">144</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;14&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/14\\/14\\/055cf77f281840.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;车神&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;车神&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">141</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;15&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/15\\/15\\/065cf8b10645b5.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;泡泡&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;泡泡&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">145</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;16&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/16\\/16\\/065cf8b30ad06e.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小美&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小美&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">146</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;17&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/17\\/17\\/065cf8bc84d542.jpeg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;念初&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;念初&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">147</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;19&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\\/\\/pop.com\\/upload\\/avatars\\/19\\/19\\/065cf8ba10f9d2.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;沫沫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;沫沫&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">148</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除群成员" tabindex="-1"><a class="header-anchor" href="#删除群成员"><span>删除群成员</span></a></h4><p>/api/group/memberdel</p><p>只有login_uid是对应群的创建者才能删除群成员</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>members 成员uid，数组类型</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="群组详情" tabindex="-1"><a class="header-anchor" href="#群组详情"><span>群组详情</span></a></h4><p>/api/group/detail</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>simple 0 返回详细信息，包括members群成员；1 返回简略信息，不包括members信息</li><li>at 0 不返回@信息；1返回@信息</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;gid&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9,10,11&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559034094</span><span class="token punctuation">,</span>
            <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫,小老鼠)&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;members&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;9&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群组备注&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;10&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群组备注&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群组备注&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：members为群成员，最多获取15个群成员数据</p><h4 id="设置群组备注" tabindex="-1"><a class="header-anchor" href="#设置群组备注"><span>设置群组备注</span></a></h4><p>/api/group/remark</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>remark 备注信息</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="设置或取消管理员" tabindex="-1"><a class="header-anchor" href="#设置或取消管理员"><span>设置或取消管理员</span></a></h4><p>/api/group/manager</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>uid 用户uid</li><li>gid 群id</li><li>value 0 取消管理员，1设置为管理员</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="判断是否是管理员" tabindex="-1"><a class="header-anchor" href="#判断是否是管理员"><span>判断是否是管理员</span></a></h4><p>/api/group/ismanager</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>uid 用户uid</li><li>gid 群id</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token property">&quot;is_manager&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>is_manager为1时是管理员，为0时不是管理员</p><h4 id="禁言群里的某个用户" tabindex="-1"><a class="header-anchor" href="#禁言群里的某个用户"><span>禁言群里的某个用户</span></a></h4><p>/api/group/forbiddenuser</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>uid 备注信息</li><li>time 解除禁言的时间戳。传0的话就是立刻解除禁言；传 当前时间戳+60 则禁言1分钟</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="全体禁言" tabindex="-1"><a class="header-anchor" href="#全体禁言"><span>全体禁言</span></a></h4><p>/api/group/forbiddenall</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li><li>value 1 全体禁言；0 解除全体禁言</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="退出群组" tabindex="-1"><a class="header-anchor" href="#退出群组"><span>退出群组</span></a></h4><p>/api/group/leave</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 登录者uid</li><li>gid 群id</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="更新用户对应群组信息" tabindex="-1"><a class="header-anchor" href="#更新用户对应群组信息"><span>更新用户对应群组信息</span></a></h4><p>/api/group/memberupdate</p><p>类型：POST</p><p>参数：</p><ul><li><p>login_uid 登录者uid</p></li><li><p>gid 群id</p></li><li><p>state 当前用户的群组状态，如果为<code>chatting</code>，则聊天会显示在消息列表中，如果是<code>hidden</code>则不会显示在消息列表中</p></li><li><p>last_read_time 上一次阅读消息的时间，结合message表中的timestamp能计算出该群组哪些消息未读</p><p>state 和 last_read_time都是可选的，但是两项不能同时为空</p></li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="消息接口" tabindex="-1"><a class="header-anchor" href="#消息接口"><span>消息接口</span></a></h3><h4 id="发送消息" tabindex="-1"><a class="header-anchor" href="#发送消息"><span>发送消息</span></a></h4><p>/api/message/send</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>to 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li><li>content 消息内容</li><li>quote_mid 引用的消息ID ，没有可以不传</li></ul><p>content特殊消息格式</p><ul><li>1、表情格式：<code>[表情X]</code>，X为数字，从0到100</li><li>2、图片格式：<code>![](图片url)</code></li><li>3、文件格式：<code>file[文件名\\t大小](文件url下载地址)</code></li><li>4、语音格式：<code>voice(语音url)</code></li><li>5、连接格式：<code>[显示字符](url地址)</code></li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获得消息历史记录" tabindex="-1"><a class="header-anchor" href="#获得消息历史记录"><span>获得消息历史记录</span></a></h4><p>/api/message/get</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li><li>limit 获取多少条。可选参数</li><li>mid message主键id，查找小于mid的记录，用于分页展示。可选参数</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;mid&quot;</span><span class="token operator">:</span> <span class="token number">842</span><span class="token punctuation">,</span> <span class="token comment">// message表主键</span>
            <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 消息发送者uid</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559031383</span><span class="token punctuation">,</span>
            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我通过了你的好友请求，我们来聊天吧&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 消息子类型，message为正常消息，notice为系统消息</span>
            <span class="token property">&quot;quote_mid&quot;</span><span class="token operator">:</span> <span class="token number">845</span><span class="token punctuation">,</span> <span class="token comment">// 引用的message id</span>
            <span class="token property">&quot;quote_content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxxxxxxxxxx&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 引用的消息内容</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;mid&quot;</span><span class="token operator">:</span> <span class="token number">845</span><span class="token punctuation">,</span>
            <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559032013</span><span class="token punctuation">,</span>
            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quote_mid&quot;</span><span class="token operator">:</span> <span class="token number">845</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quote_content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxxxxxxxxxx&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 引用的消息内容</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="撤回消息" tabindex="-1"><a class="header-anchor" href="#撤回消息"><span>撤回消息</span></a></h4><p>/api/message/revoke</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li><li>mid 消息id，messsage表的主键</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="删除消息-1" tabindex="-1"><a class="header-anchor" href="#删除消息-1"><span>删除消息</span></a></h4><p>/api/message/delete</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li><li>mid 消息id，messsage表的主键</li><li>ty 1单删2全删 返回：</li></ul><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获得与某用户-群的未读消息数" tabindex="-1"><a class="header-anchor" href="#获得与某用户-群的未读消息数"><span>获得与某用户/群的未读消息数</span></a></h4><p>/api/message/unreadcount</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token string">&quot;未读消息数&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="更新消息最后读取时间" tabindex="-1"><a class="header-anchor" href="#更新消息最后读取时间"><span>更新消息最后读取时间</span></a></h4><p>/api/message/updateLastReadTime</p><p>说明：用来记录哪些消息已读</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="上传" tabindex="-1"><a class="header-anchor" href="#上传"><span>上传</span></a></h3><h4 id="上传头像" tabindex="-1"><a class="header-anchor" href="#上传头像"><span>上传头像</span></a></h4><p>/api/upload/avatar</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>file 文件数据</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//p.com/upload/avatars/7/7/30608bd8e4d09d.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文件名.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.15 KB&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="上传图片" tabindex="-1"><a class="header-anchor" href="#上传图片"><span>上传图片</span></a></h4><p>/api/upload/img</p><p>类型：POST</p><p>参数：</p><ul><li>file 文件数据</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//p.com/upload/images/202104/30608bd9666e76.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文件名.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.15 KB&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：上传图片不需要传递login_uid</p><h4 id="上传文件" tabindex="-1"><a class="header-anchor" href="#上传文件"><span>上传文件</span></a></h4><p>/api/upload/file</p><p>类型：POST</p><p>参数：</p><ul><li>file 文件数据</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//p.com/upload/files/202104/30608bd9f444b2.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文件名.png&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.15 KB&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：上传文件不需要传递login_uid</p><h3 id="二维码" tabindex="-1"><a class="header-anchor" href="#二维码"><span>二维码</span></a></h3><h4 id="根据内容生成二维码" tabindex="-1"><a class="header-anchor" href="#根据内容生成二维码"><span>根据内容生成二维码</span></a></h4><p>/api/qrcode/get</p><p>类型：GET</p><p>参数：</p><ul><li>content 二维码内容</li></ul><p>返回：二维码图片流</p><h3 id="聚合接口" tabindex="-1"><a class="header-anchor" href="#聚合接口"><span>聚合接口</span></a></h3><h4 id="获取当前登录用户的主页信息" tabindex="-1"><a class="header-anchor" href="#获取当前登录用户的主页信息"><span>获取当前登录用户的主页信息</span></a></h4><p>/api/pop/get</p><p>包括当前登录者信息、消息列表、通讯录数据、群组数据</p><p>类型：GET</p><p>参数：</p><ul><li>login_uid</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mine&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 当前登录者信息</span>
            <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token comment">// uid</span>
            <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 登录账号</span>
            <span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token string">&quot;大懒猫&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 个性签名</span>
            <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;猫猫&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 昵称</span>
            <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 头像</span>
            <span class="token property">&quot;unread_friend_apply_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 未操作好友申请记录数</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;friend&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 通讯录数据</span>
            <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 名称首字母</span>
                <span class="token property">&quot;11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 以好友uid为键</span>
                    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token comment">// 好友uid</span>
                    <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 头像</span>
                    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否在线， online为在线</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 名称，备注或者昵称呢</span>
                    <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span> <span class="token comment">// 名称首字母</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;X&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;10&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;initials&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 群组信息</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;gid&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 群组id</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9,10,11&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 群组头像</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫,小老鼠)&quot;</span> <span class="token comment">// 群组名称</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;gid&quot;</span><span class="token operator">:</span> <span class="token number">51</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫)&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;chatting&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 消息列表数据</span>
            <span class="token property">&quot;friend10&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 格式为 &#39;friend&#39;+uid 或者 &#39;group&#39;+gid</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;friend&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 类型， friend或者group</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 好友id或者群组id，取决于 type</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 好友或者群组头像</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小老鼠&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 名称，优先显示备注</span>
                <span class="token property">&quot;unread_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 未读消息数量</span>
                <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 最后一条消息</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;mid&quot;</span><span class="token operator">:</span> <span class="token number">845</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我通过了你的好友请求，我们来聊天吧&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559032013</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;friend11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;friend&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;unread_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;mid&quot;</span><span class="token operator">:</span> <span class="token number">890</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file[wx.png|13.48 KB](//pop.com/upload/files/201905/315cf104b5cac8.png)&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559299253</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;//pop.com/upload/avatars/9/9/265cea5d13d5b0.jpg&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;group50&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
                <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/pop/group/chat/50&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9,10,11&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫,小老鼠)&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;unread_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group-50&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;mid&quot;</span><span class="token operator">:</span> <span class="token number">883</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pdf&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;sub_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1559036471</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/static/img/avatar.jpg&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;喵喵&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;group51&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">51</span><span class="token punctuation">,</span>
                <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/pop/group/chat/51&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/h5/group/avatar?uid=9&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;群聊(猫猫)&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group-51&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;setting&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;voice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启语音发送</span>
            <span class="token property">&quot;audio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启实时语音，目前暂时未实现</span>
            <span class="token property">&quot;video&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启实时视频，目前暂时未实现</span>
            <span class="token property">&quot;prompt_tone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启提示音</span>
            <span class="token property">&quot;group_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启群聊</span>
            <span class="token property">&quot;private_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启私聊</span>
            <span class="token property">&quot;add_friend&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 是否开启加好友</span>
            <span class="token property">&quot;create_group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启创建群组</span>
            <span class="token property">&quot;upload_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启上传文件</span>
            <span class="token property">&quot;upload_img&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启上传图片</span>
            <span class="token property">&quot;emoji&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 是否开启表情</span>
            <span class="token property">&quot;dirty_words&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 脏字过滤</span>
            <span class="token property">&quot;stranger_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许陌生人聊天</span>
            <span class="token property">&quot;appkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;063a5f0aca64b1ba87c776b8f8343c1c&quot;</span><span class="token punctuation">,</span> <span class="token comment">// websocket推送appkey</span>
            <span class="token property">&quot;ws_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ws://pop.com:6060&quot;</span> <span class="token comment">// websocket地址</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除对话" tabindex="-1"><a class="header-anchor" href="#删除对话"><span>删除对话</span></a></h4><p>/api/pop/delchat</p><p>类型：POST</p><p>参数：</p><ul><li>login_uid 当前登录用户uid</li><li>id 接收者id，可能是群组gid，也可能是uid，具体取决于tpye类型</li><li>type 类型，<code>group</code>群组消息;<code>friend</code>好友消息</li></ul><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获取系统配置" tabindex="-1"><a class="header-anchor" href="#获取系统配置"><span>获取系统配置</span></a></h4><p>/api/pop/getsetting</p><p>类型：GET</p><p>参数：无</p><p>返回：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;voice&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;audio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;video&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;prompt_tone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;group_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;private_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;add_friend&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;create_group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;upload_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;upload_img&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;emoji&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;member_detail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;stranger_chat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;appkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id28hdzhfus8sjk20104dka&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;ws_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wss://你的域名.com/ws&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;app_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;泡泡IM&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;register&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;register_captcha&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;login_captcha&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;explore_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://m.baidu.com&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;qrcode_friend&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;qrcode_group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;qrcode_scan&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,445),o=[e];function l(c,i){return s(),a("div",null,o)}const r=n(p,[["render",l],["__file","api.html.vue"]]),d=JSON.parse('{"path":"/posts/api.html","title":"接口文档","lang":"zh-CN","frontmatter":{"date":"2025-11-01T00:00:00.000Z","category":["技术"],"tag":["api"]},"headers":[{"level":3,"title":"新增接口","slug":"新增接口","link":"#新增接口","children":[]},{"level":3,"title":"回复消息接口","slug":"回复消息接口","link":"#回复消息接口","children":[]},{"level":3,"title":"用户接口","slug":"用户接口","link":"#用户接口","children":[]},{"level":3,"title":"好友接口","slug":"好友接口","link":"#好友接口","children":[]},{"level":3,"title":"群组接口","slug":"群组接口","link":"#群组接口","children":[]},{"level":3,"title":"消息接口","slug":"消息接口","link":"#消息接口","children":[]},{"level":3,"title":"上传","slug":"上传","link":"#上传","children":[]},{"level":3,"title":"二维码","slug":"二维码","link":"#二维码","children":[]},{"level":3,"title":"聚合接口","slug":"聚合接口","link":"#聚合接口","children":[]}],"git":{"updatedTime":1762309274000},"filePathRelative":"posts/api.md","excerpt":"\\n<div class=\\"custom-container danger\\"><p class=\\"custom-container-title\\">注意！</p>\\n<p>接口文档返回值统一为json格式，并且一定包含code和msg的值，例如</p>\\n</div>\\n<div class=\\"language-json\\" data-ext=\\"json\\" data-title=\\"json\\"><pre class=\\"language-json\\"><code><span class=\\"token punctuation\\">{</span><span class=\\"token property\\">\\"code\\"</span><span class=\\"token operator\\">:</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token property\\">\\"msg\\"</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">\\"ok\\"</span><span class=\\"token punctuation\\">}</span>\\n</code></pre></div>"}');export{r as comp,d as data};
